/* V3 Global */
.dashboard-v3 { padding: 20px; max-width: 1600px; margin: 0 auto; min-height: 100vh; background: var(--bg-primary); color: var(--text-primary); }
.dashboard-v3.dark { background: var(--bg-primary); color: var(--text-primary); }

/* Controls Bar */
.v3-controls-bar { 
  display:flex; 
  align-items:center; 
  justify-content:flex-end; 
  gap:12px; 
  margin-bottom: 20px;
  padding: 12px;
  background: var(--bg-card);
  border-radius: 12px;
  border: 1px solid var(--border-color);
}

.toggle { cursor:pointer; padding:8px 10px; border:1px solid var(--border-color); border-radius:8px; background:var(--bg-card); color: var(--text-primary); }
.dashboard-v3.dark .v3-page-btn.active { 
  background: var(--accent-primary); 
  color: white; 
  border-color: var(--accent-primary);
}

/* Full Width Content (for routers and status pages) */
.v3-full-width-content {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.v3-time-controls { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
.v3-time-controls .seg { display:flex; gap:6px; background:var(--bg-secondary); padding:4px; border-radius:8px; }
.v3-time-controls .seg button { border:none; background:transparent; padding:6px 10px; border-radius:6px; cursor:pointer; font-size:12px; color:var(--text-secondary); }
.v3-time-controls .seg button.active { background:var(--accent-primary); color:white; }

/* Metrics */
.v3-metrics { display:grid; grid-template-columns: repeat(auto-fit, minmax(220px,1fr)); gap:12px; margin-bottom: 16px; }
.v3-metric { background:var(--bg-card); border-radius:12px; padding:16px; border-left:4px solid var(--accent-primary); box-shadow: 0 2px 8px var(--shadow); border: 1px solid var(--border-color); }
.v3-metric .label { font-size:12px; text-transform:uppercase; letter-spacing:0.5px; color:var(--text-secondary); }
.v3-metric .value { font-size:28px; font-weight:700; color:var(--text-primary); line-height:1; margin-top:6px; }
.v3-metric .sub { color:var(--text-muted); font-size:12px; margin-top:6px; }

/* Cards */
.v3-grid { display:grid; grid-template-columns: 1.2fr 1fr; gap:12px; }
@media (max-width: 1200px) { .v3-grid { grid-template-columns: 1fr; } }
.v3-card { background:var(--bg-card); border-radius:12px; padding:16px; box-shadow: 0 2px 8px var(--shadow); border: 1px solid var(--border-color); }
.v3-card-title { font-size:14px; font-weight:600; margin-bottom:8px; color:var(--text-primary); }
.col { display:flex; flex-direction:column; gap:12px; }

/* Heatmap */
.heatmap { overflow:auto; border:1px solid var(--border-color); border-radius:8px; }
.heatmap-header { display:grid; grid-template-columns: 60px repeat(24, 1fr); align-items:center; padding:8px; background:var(--bg-secondary); border-bottom:1px solid var(--border-color); }
.hcol { font-size:10px; color:var(--text-secondary); text-align:center; }
.heatmap-row { display:grid; grid-template-columns: 60px repeat(24, 1fr); }
.dlabel { font-size:12px; color:var(--text-secondary); padding:6px; border-right:1px solid var(--border-color); background:var(--bg-secondary); }
.cell { height:22px; border-right:1px solid rgba(0,0,0,0.02); }

/* Heatstrip */
.heatstrip { display:grid; grid-template-columns: repeat(auto-fit, minmax(10px, 1fr)); gap:4px; padding:6px; border-radius:6px; background:var(--bg-secondary); border:1px solid var(--border-color); }

/* Delta Badge */
.delta { display:inline-block; padding:2px 6px; border-radius:10px; font-size:11px; font-weight:600; margin-left:6px; }
.delta.up { background:#dcfce7; color:#166534; }
.delta.down { background:#fee2e2; color:#991b1b; }
.delta.neutral { background:var(--bg-secondary); color:var(--text-muted); }

.v3-delta { margin-top: 8px; color:var(--text-secondary); }

.v3-footer-note { margin-top: 12px; font-size: 12px; color:var(--text-muted); }
